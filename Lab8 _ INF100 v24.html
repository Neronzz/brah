<!DOCTYPE html>
<!-- saved from url=(0097)https://webcache.googleusercontent.com/search?q=cache:https%3A%2F%2Finf100.ii.uib.no%2Flab%2F8%2F -->
<html lang="no" class="h-100"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!--<base href="https://inf100.ii.uib.no/lab/8/">--><base href="."><style>body{margin-left:0;margin-right:0;margin-top:0}#bN015htcoyT__google-cache-hdr{background:#f8f9fa;font:13px Arial,sans-serif;text-align:left;color:var(--COEmY);border:0;margin:0;border-bottom:1px solid var(--gS5jXb);line-height:16px;padding:16px 28px 24px 28px}#bN015htcoyT__google-cache-hdr *{display:inline;font:inherit;text-align:inherit;color:inherit;line-height:inherit;background:none;border:0;margin:0;padding:0;letter-spacing:0}#bN015htcoyT__google-cache-hdr a{text-decoration:none;color:var(--JKqx2);}#bN015htcoyT__google-cache-hdr a:hover{text-decoration:underline}#bN015htcoyT__google-cache-hdr a:visited{color:#681da8}#bN015htcoyT__google-cache-hdr div{display:block;margin-top:4px}#bN015htcoyT__google-cache-hdr b{font-weight:bold;display:inline-block;direction:ltr}</style></head><body class="d-flex flex-column h-100"><div id="bN015htcoyT__google-cache-hdr"><div><span>Dette er bufferen til Google for <a href="https://inf100.ii.uib.no/lab/8/">https://inf100.ii.uib.no/lab/8/</a>.</span>&nbsp;<span>Det er et øyeblikksbilde over siden slik den var 12. aug 2024 19:41:02 GMT.</span>&nbsp;<span><a href="https://inf100.ii.uib.no/lab/8/">Den gjeldende siden</a> kan ha endret seg siden da.</span>&nbsp;<a href="http://support.google.com/websearch/bin/answer.py?hl=no&amp;p=cached&amp;answer=1687222"><span>Les mer</span>.</a></div><div><span style="display:inline-block;margin-top:8px;margin-right:104px;white-space:nowrap"><span style="margin-right:28px"><span style="font-weight:bold">Full versjon</span></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://inf100.ii.uib.no/lab/8/&amp;sca_esv=589f26d910f43319&amp;sca_upv=1&amp;strip=1&amp;vwsrc=0"><span>Tekstversjon</span></a></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://inf100.ii.uib.no/lab/8/&amp;sca_esv=589f26d910f43319&amp;sca_upv=1&amp;strip=0&amp;vwsrc=1"><span>Se kilde</span></a></span></span></div><span style="display:inline-block;margin-top:8px;color:var(--IXoxUe)"><span>Tips: For å finne søkeordet ditt raskt på denne siden, trykker du <b>Ctrl+F</b> eller <b>⌘</b> (Mac) og bruker søkeraden.</span></span></div><div style="position:relative;"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="generator" content="Hugo 0.115.1"><meta name="description" content="Endelig er den her: semesterets siste lab! Denne lab’en er en god blanding av alt vi har lært i løpet av semesteret. Ulikt tidligere lab’er, er denne lab’en basert på poeng, og du må få minst 12 poeng for å bestå. Du kan velge selv hvilke oppgaver du ønsker å løse. Hvor mange poeng hver oppgave gir, står oppgitt her:
Oppgave Poeng Tutorial 5. april: labyrint 3 Tutorial 12. april: q-learning 4 Lister vs oppslagsverk 1 Collatz-sekvensen 1 Filter for høye temperaturer 1 Kolonnesum 2 Lønnsberegning 1 Raskeste løper 1 Prikkprodukt 1 Akvakulturregisteret 3 Endre farge på prikk med piltaster 2 Lengste varmeperiode (dummydata) 2 Lengste varmeperiode (ekte data) 3 Enkelte valgfrie oppgaver fra tidligere lab’er gir også poeng:"><meta http-equiv="refresh" content="14400"><link rel="apple-touch-icon" sizes="180x180" href="https://inf100.ii.uib.no/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://inf100.ii.uib.no/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://inf100.ii.uib.no/favicon-16x16.png"><link rel="manifest" href="https://inf100.ii.uib.no/site.webmanifest"><link rel="stylesheet" href="./Lab8 _ INF100 v24_files/bootstrap.min.css"><link rel="stylesheet" href="./Lab8 _ INF100 v24_files/inf100.css"><link rel="stylesheet" href="./Lab8 _ INF100 v24_files/videotag.css"><link rel="stylesheet" href="./Lab8 _ INF100 v24_files/bootstrap-icons.css"><title>Lab8 | INF100 v24</title><style>.container{max-width:768px}body{background-color:#f0e5f1}#nav a{font-weight:700;color:inherit}#nav a.nav-link-active{background-color:#212529;color:#fff}#nav-border{background-color:#bb2693;color:#f6eff2;margin-top:12px;border-radius:4px 4px 0 0}#nav-border a{color:#f6eff2}#my-content-container{background-color:#f8f4f5;border-radius:0 0 4px 4px}#main{margin-top:1em;margin-bottom:4em}#home-jumbotron{background-color:inherit}#footer .container{padding:1em 0}#footer a{color:inherit;text-decoration:underline}#main h1{text-align:center}.font-125{font-size:125%}.tag-btn{margin-bottom:.3em}pre{background-color:#f2f4f8;border:1px solid #ccc;border-radius:4px;padding:16px}pre code{padding:0;font-size:inherit;color:inherit;background-color:transparent;border-radius:0}code{padding:2px 4px;font-size:90%;color:#0e2237;background-color:#f2f4f8;border-radius:4px}img,iframe,embed,video,audio{max-width:100%}.card-img,.card-img-top,.card-img-bottom{width:initial}.cimg-container{text-align:center}.level-container{border:1px solid #ccc;border-radius:4px;padding:16px;margin-bottom:12px}.level-container.A{background-color:#f2ffe4}.level-container.B{background-color:#f9ffe3}.level-container.C{background-color:#fdffe3}.level-container.D{background-color:#fff7e2}.level-container.E{background-color:#fff1e4}.level-container .level-top{text-align:right;font-size:smaller;color:#0008}.level-container .level-top span{border:1px dashed #0008;padding:.2em .5em;border-radius:4px}</style><div><div id="nav-border" class="navbar container"><div class="container-fluid"><span class="navbar-brand flex-grow-1" style="display:flex;align-items:center"><a href="https://inf100.ii.uib.no/"><img src="./Lab8 _ INF100 v24_files/python-circle-tight.png" style="max-height:2em;margin-right:.5em" alt="INF100 h22 logo"></a>
<a href="https://inf100.ii.uib.no/" style="text-decoration:none"><div style="margin-left:.1em">INF100 v24</div></a></span><nav id="nav" class="nav justify-content-end"><div class="nav-item"><a class="nav-link" href="https://inf100.ii.uib.no/search">Søk</a></div><a class="nav-link" href="https://mitt.uib.no/courses/45616/"><i class="bi bi-box-arrow-up-right"></i> mitt.uib</a></nav></div></div></div><div id="my-content-container" class="container"><main id="main"><h1>Lab8</h1><p>Endelig er den her: semesterets siste lab! Denne lab’en er en god blanding av alt vi har lært i løpet av semesteret. Ulikt tidligere lab’er, er denne lab’en basert på <em>poeng</em>, og du må få minst <strong>12 poeng</strong> for å bestå. Du kan velge selv hvilke oppgaver du ønsker å løse. Hvor mange poeng hver oppgave gir, står oppgitt her:</p><table class="table table-bordered"><thead><tr><th>Oppgave</th><th>Poeng</th></tr></thead><tbody><tr><td><a href="https://inf100.ii.uib.no/lab/8/#tutorial-5-april-labyrint">Tutorial 5. april: labyrint</a></td><td>3</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#tutorial-12-april-q-learning">Tutorial 12. april: q-learning</a></td><td>4</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#lister-vs-oppslagsverk">Lister vs oppslagsverk</a></td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#collatz-sekvensen">Collatz-sekvensen</a></td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#filter-for-h%C3%B8ye-temperaturer">Filter for høye temperaturer</a></td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#kolonnesum">Kolonnesum</a></td><td>2</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#l%C3%B8nnsberegning">Lønnsberegning</a></td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#raskeste-l%C3%B8per">Raskeste løper</a></td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#prikkprodukt">Prikkprodukt</a></td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#akvakulturregisteret">Akvakulturregisteret</a></td><td>3</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#endre-farge-p%C3%A5-prikk-med-piltaster">Endre farge på prikk med piltaster</a></td><td>2</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#lengste-varmeperiode-dummydata">Lengste varmeperiode (dummydata)</a></td><td>2</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/8/#lengste-varmeperiode-ekte-data">Lengste varmeperiode (ekte data)</a></td><td>3</td></tr></tbody></table><p>Enkelte valgfrie oppgaver fra tidligere lab’er gir også poeng:</p><table class="table table-bordered"><thead><tr><th>Oppgave</th><th>Poeng</th></tr></thead><tbody><tr><td><a href="https://inf100.ii.uib.no/lab/1/#haiku">Haiku</a> fra lab 1</td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/2/#kollisjonsdeteksjon">Kollisjonsdeteksjon</a> fra lab 2</td><td>3</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/3/#tverrsum">Tverrsum</a> fra lab 3</td><td>2</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/4/#minste_absolutt-forskjell">Minste absolutt-forskjell</a> fra lab 4</td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/4/#komprimering">Komprimering</a> fra lab 4</td><td>3</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/6/#mulige_ord">Mulige ord</a> fra lab 6</td><td>2</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/6/#god_stil">God stil</a> fra lab 6</td><td>1</td></tr><tr><td><a href="https://inf100.ii.uib.no/lab/7/#kombinere_csv-filer">Kombinere CSV-filer</a> fra lab 7</td><td>2</td></tr></tbody></table><p>Vi minner dessuten om at <a href="https://inf100.ii.uib.no/lab/apen/">åpen lab</a> kan gjøres som et alternativ til denne lab’en.</p><hr><div class="level-container C"><div class="level-top"><span>Nivå C</span></div><h5 id="tutorial-5-april-labyrint">Tutorial 5. april: labyrint</h5><p>Gjennomfør labyrint-tutorial fra forelesningen 5. april. Denne oppgaven gir 3 poeng, og rettes manuelt. Du skal levere filene <em>laby_main.py</em>, <em>laby_maze.py</em>, og <em>laby_view.py</em> samt eventuelle andre filer som er nødvendige for at programmet skal kjøre (<em>laby_ai.py</em>, <em>level1.lev</em> etc. hvis de brukes).</p><p>Startkode finner du <a href="https://inf100.ii.uib.no/lab/8/data/labyrinth_startercode.zip">her</a>, og slides med guide finner du <a href="https://inf100.ii.uib.no/slides/24-04-05-labyrint-tutorial.pdf">her</a>. For å få godkjent, må du ha fullført til og med steg 5 i tutorialen (det vises en vinnerskjerm når spilleren har nådd målet).</p></div><div class="level-container A"><div class="level-top"><span>Nivå A</span></div><h5 id="tutorial-12-april-q-learning">Tutorial 12. april: q-learning</h5><p>Gjennomfør q-learning-tutorial fra forelesningen 12. april. Denne oppgaven gir 4 poeng. Du må ha fullført labyrint-tutorial fra forelesningen 5. april før du kan begynne på denne oppgaven.</p></div><div class="level-container E"><div class="level-top"><span>Nivå E</span></div><h5 id="lister-vs-oppslagsverk">Lister vs oppslagsverk</h5><p>Denne oppgaven består av to deler. Skriv funksjoner til begge deloppgaver i én felles fil, <em>list_vs_dictionary.py</em>.</p><p>I denne oppgaven skal vi undersøke slektskapet mellom oppslagsverk og lister. En nøkkel spiller på mange måter samme rolle for et oppslagsverk som en indeks gjør for en liste.</p><p><strong>Del A</strong></p><p>Skriv funksjonen <code>key_value_getter(d)</code> som tar inn en dictionary <code>d</code>, og skriver ut til skjermen nøklene, verdiene og nøkkel/verdi-par.
Eksempelkjøring:</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span>key_value_getter({
</span></span><span style="display:flex"><span>  <span style="color:#ba2121">"monday"</span>: <span style="color:#666">0</span>,
</span></span><span style="display:flex"><span>  <span style="color:#ba2121">"tuesday"</span>: <span style="color:#666">0.7</span>,
</span></span><span style="display:flex"><span>  <span style="color:#ba2121">"wednesday"</span>: <span style="color:#666">0</span>,
</span></span><span style="display:flex"><span>  <span style="color:#ba2121">"thursday"</span>: <span style="color:#666">4.7</span>,
</span></span><span style="display:flex"><span>  <span style="color:#ba2121">"friday"</span>: <span style="color:#666">10</span>
</span></span><span style="display:flex"><span>})
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div><p>skal gi utskriften:</p><div class="highlight"><pre tabindex="0" style="-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text"><span style="display:flex"><span>Dictionary keys:
</span></span><span style="display:flex"><span>monday
</span></span><span style="display:flex"><span>tuesday
</span></span><span style="display:flex"><span>wednesday
</span></span><span style="display:flex"><span>thursday
</span></span><span style="display:flex"><span>friday
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>Dictionary values:
</span></span><span style="display:flex"><span>0
</span></span><span style="display:flex"><span>0.7
</span></span><span style="display:flex"><span>0
</span></span><span style="display:flex"><span>4.7
</span></span><span style="display:flex"><span>10
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>Dictionary keys/value:
</span></span><span style="display:flex"><span>monday 0
</span></span><span style="display:flex"><span>tuesday 0.7
</span></span><span style="display:flex"><span>wednesday 0
</span></span><span style="display:flex"><span>thursday 4.7
</span></span><span style="display:flex"><span>friday 10
</span></span></code></pre></div><p><strong>Del B</strong></p><p>Skriv funksjonen <code>index_value_getter(a)</code> som tar inn en liste <code>a</code> og skriver ut til skjermen indeksene, verdiene og indeks/verdi -parene.
Eksempelkjøring:</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span>index_value_getter([<span style="color:#666">7.0</span>, <span style="color:#666">8.0</span>, <span style="color:#666">10.0</span>, <span style="color:#666">9.0</span>, <span style="color:#666">10.0</span>])
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div><p>skal gi utskriften:</p><div class="highlight"><pre tabindex="0" style="-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text"><span style="display:flex"><span>List indices:
</span></span><span style="display:flex"><span>0
</span></span><span style="display:flex"><span>1
</span></span><span style="display:flex"><span>2
</span></span><span style="display:flex"><span>3
</span></span><span style="display:flex"><span>4
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>List values:
</span></span><span style="display:flex"><span>7.0
</span></span><span style="display:flex"><span>8.0
</span></span><span style="display:flex"><span>10.0
</span></span><span style="display:flex"><span>9.0
</span></span><span style="display:flex"><span>10.0
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>List indices/value:
</span></span><span style="display:flex"><span>0 7.0
</span></span><span style="display:flex"><span>1 8.0
</span></span><span style="display:flex"><span>2 10.0
</span></span><span style="display:flex"><span>3 9.0
</span></span><span style="display:flex"><span>4 10.0
</span></span></code></pre></div><p><strong>PS:</strong> Det skal ikke komme noen utskrift i terminalen dersom noen importerer filen din som en modul. Hvis du vil teste funksjonene dine lokalt på egen maskin kan du legge til dine egne kall til funksjonene nederst i filen din under <code>if __name__ == "__main__":</code>.</p></div><div class="level-container E"><div class="level-top"><span>Nivå E</span></div><h5 id="collatz-sekvensen">Collatz-sekvensen</h5><p><em>Collatz-sekvensen</em> er definert som følger:</p><ol><li>Start med et tall <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span></li><li>Hvis <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> er jevnt så er neste tall <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>n</mi><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{n}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.0404em; vertical-align: -0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.6954em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>, ellers så er neste tall <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3n +1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">3</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span></li><li>Repeter steg <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span></span></span></span></span> med det nye tallet helt til du får <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>. Da er du ferdig.</li></ol><p>Her er en funksjon som beregner Collatz-sekvensen gitt en en startverdi <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>:</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">collatz_sequence</span>(n):
</span></span><span style="display:flex"><span>    sequence <span style="color:#666">=</span> [n]
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">while</span> n <span style="color:#666">&gt;</span> <span style="color:#666">1</span>:
</span></span><span style="display:flex"><span>        <span style="color:green;font-weight:700">if</span> n <span style="color:#666">%</span> <span style="color:#666">2</span> <span style="color:#666">==</span> <span style="color:#666">0</span>:
</span></span><span style="display:flex"><span>            n <span style="color:#666">=</span> n <span style="color:#666">//</span> <span style="color:#666">2</span>
</span></span><span style="display:flex"><span>        <span style="color:green;font-weight:700">else</span>:
</span></span><span style="display:flex"><span>            n <span style="color:#666">=</span> <span style="color:#666">3</span> <span style="color:#666">*</span> n <span style="color:#666">+</span> <span style="color:#666">1</span>
</span></span><span style="display:flex"><span>        sequence<span style="color:#666">.</span>append(n)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">return</span> sequence
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div><p>I filen <em>collatz.py</em>, skriv en funksjon som heter <code>collect_collatz(a, b)</code> som bruker <code>collatz_sequence</code> -funksjonen gitt over til å beregne Collatz-sekvensen for alle tall fra og med <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span></span> og opp til (men ikke inkludert) <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span>. Sekvensene skal returneres i form av et oppslagsverk hvor startverdiene er nøkler.</p><p>Test koden din ved å legge til disse linjene nederst i filen:</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">test_collect_collatz</span>():
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'Tester collect_collatz... '</span>, end<span style="color:#666">=</span><span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:#408080;font-style:italic"># Test 1</span>
</span></span><span style="display:flex"><span>    expected <span style="color:#666">=</span> {
</span></span><span style="display:flex"><span>        <span style="color:#666">1</span>: [<span style="color:#666">1</span>],
</span></span><span style="display:flex"><span>        <span style="color:#666">2</span>: [<span style="color:#666">2</span>, <span style="color:#666">1</span>], 
</span></span><span style="display:flex"><span>        <span style="color:#666">3</span>: [<span style="color:#666">3</span>, <span style="color:#666">10</span>, <span style="color:#666">5</span>, <span style="color:#666">16</span>, <span style="color:#666">8</span>, <span style="color:#666">4</span>, <span style="color:#666">2</span>, <span style="color:#666">1</span>],
</span></span><span style="display:flex"><span>    }
</span></span><span style="display:flex"><span>    actual <span style="color:#666">=</span> collect_collatz(<span style="color:#666">1</span>, <span style="color:#666">4</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> expected <span style="color:#666">==</span> actual
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:#408080;font-style:italic"># Test 2</span>
</span></span><span style="display:flex"><span>    expected <span style="color:#666">=</span> {
</span></span><span style="display:flex"><span>        <span style="color:#666">3</span>: [<span style="color:#666">3</span>, <span style="color:#666">10</span>, <span style="color:#666">5</span>, <span style="color:#666">16</span>, <span style="color:#666">8</span>, <span style="color:#666">4</span>, <span style="color:#666">2</span>, <span style="color:#666">1</span>],
</span></span><span style="display:flex"><span>        <span style="color:#666">4</span>: [<span style="color:#666">4</span>, <span style="color:#666">2</span>, <span style="color:#666">1</span>],
</span></span><span style="display:flex"><span>        <span style="color:#666">5</span>: [<span style="color:#666">5</span>, <span style="color:#666">16</span>, <span style="color:#666">8</span>, <span style="color:#666">4</span>, <span style="color:#666">2</span>, <span style="color:#666">1</span>],
</span></span><span style="display:flex"><span>    }
</span></span><span style="display:flex"><span>    actual <span style="color:#666">=</span> collect_collatz(<span style="color:#666">3</span>, <span style="color:#666">6</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> expected <span style="color:#666">==</span> actual
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'OK'</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    test_collect_collatz()
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div><button class="btn btn-outline-primary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#hintseksjond4cb5e86f0e4f9b1" aria-expanded="false" aria-controls="hintseksjond4cb5e86f0e4f9b1">
<i class="bi bi-lightbulb"></i> Hint</button><p></p><div class="collapse" id="hintseksjond4cb5e86f0e4f9b1"><div class="card card-body"><ul><li>Begynn med å opprette et tomt oppslagsverk (som du skal returnere på slutten av funksjonen, når det er ferdig fylt opp med nøkler og verdier).</li><li>Bruk en løkke for å gå gjennom alle tall fra og med <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span></span> opp til men ikke inkludert <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span> (se <a href="https://inf100.ii.uib.no/notat/lokker#for-l%C3%B8kker-og-range">kursnotater om løkker</a>).</li><li>Inne i løkken: gjør et kall til <code>collatz_sequence</code> -metoden med iteranden som argument. Oppdater oppslagsverket slik at iteranden blir en ny nøkkel med returverdien fra kallet til <code>collatz_sequence</code> som verdi.</li></ul></div></div><p></p></div><div class="level-container D"><div class="level-top"><span>Nivå D</span></div><h5 id="filter-for-høye-temperaturer">Filter for høye temperaturer</h5><p>I filen <em>filter_high_temperatures.py</em>, skriv en funksjon som heter <code>filter_high_temperatures</code> med parametre:</p><ul><li><code>path_input</code>, en filsti til en eksisterende fil hvor hver linje inneholder først en dag, deretter et mellomrom, og så en temperatur. For eksempel, <a href="https://inf100.ii.uib.no/lab/8/data/temperatures.txt" download="">temperatures.txt</a>.</li><li><code>path_output</code>, en filsti til en fil som skal opprettes, og</li><li><code>threshold_temp</code>, et flyttall som representerer en temperatur.</li></ul><p>La funksjonen åpne filen <code>path_input</code>, gå gjennom linjene i filen og lager en ny fil <code>path_output</code> hvor kun de linjene der temperaturen er minst <code>threshold_temp</code> er inkludert. Om ingen dager har en temperatur som er minst <code>threshold_temp</code> så skal <code>path_output</code> være en tom fil.</p><p>For å teste programmet ditt, legg til nederst i filen:</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">test_filter_high_temperatures</span>():
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'Tester filter_high_temperatures... '</span>, end<span style="color:#666">=</span><span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>    filter_high_temperatures(<span style="color:#ba2121">'temperatures.txt'</span>, <span style="color:#ba2121">'high_temps.txt'</span>, <span style="color:#666">23.5</span>)
</span></span><span style="display:flex"><span>    expected <span style="color:#666">=</span> (
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'Monday 23.5</span><span style="color:#b62;font-weight:700">\n</span><span style="color:#ba2121">'</span>
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'Wednesday 24.0</span><span style="color:#b62;font-weight:700">\n</span><span style="color:#ba2121">'</span>
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'Thursday 23.9</span><span style="color:#b62;font-weight:700">\n</span><span style="color:#ba2121">'</span>
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'Sunday 23.9</span><span style="color:#b62;font-weight:700">\n</span><span style="color:#ba2121">'</span>
</span></span><span style="display:flex"><span>    )
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">with</span> <span style="color:green">open</span>(<span style="color:#ba2121">'high_temps.txt'</span>, <span style="color:#ba2121">'rt'</span>, encoding<span style="color:#666">=</span><span style="color:#ba2121">'utf-8'</span>) <span style="color:green;font-weight:700">as</span> file:
</span></span><span style="display:flex"><span>        actual <span style="color:#666">=</span> file<span style="color:#666">.</span>read()
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> expected<span style="color:#666">.</span>strip() <span style="color:#666">==</span> actual<span style="color:#666">.</span>strip()
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'OK'</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    test_filter_high_temperatures()
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div><div class="level-container E"><div class="level-top"><span>Nivå E</span></div><h5 id="kolonnesum">Kolonnesum</h5><p>I filen <em>sum_of_column.py</em>, skriv en funsjon <code>sum_of_column(path, col)</code> som returnerer summen av verdiene fra den oppgitte kolonnen i csv-filen med filsti <code>path</code>. Ikke inkluderer verdier i summen som ikke er flyttall; hvis det ikke finnes noen tallverdier i oppgitt kolonne, skal funksjonen returnere 0. Kolonne <code>0</code> er den første kolonnen fra venstre i csv-filen. Du kan anta at csv-filen benytter komma (<code>,</code>) som skilletegn og dobbel rett apostrof (<code>"</code>) som anførselstegn/grupperingssymbol («quotechar»).</p><p>Eksempelkjøringer med <a href="https://inf100.ii.uib.no/lab/8/data/foo.csv" download="">foo.csv</a>, <a href="https://inf100.ii.uib.no/lab/8/data/Statistikk_Tilsyn_ar.csv" download="">Statistikk_Tilsyn_ar.csv</a> og <a href="https://inf100.ii.uib.no/lab/8/data/airport-codes.csv" download="">airport-codes.csv</a></p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">test_sum_of_column</span>():
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'Tester sum_of_column... '</span>, end<span style="color:#666">=</span><span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span>(<span style="color:#666">42.0</span> <span style="color:#666">==</span> sum_of_column(<span style="color:#ba2121">'foo.csv'</span>, <span style="color:#666">0</span>))
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span>(<span style="color:#666">95.0</span> <span style="color:#666">==</span> sum_of_column(<span style="color:#ba2121">'foo.csv'</span>, <span style="color:#666">1</span>))
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span>(<span style="color:#666">0.0</span> <span style="color:#666">==</span> sum_of_column(<span style="color:#ba2121">'foo.csv'</span>, <span style="color:#666">2</span>))
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span>(<span style="color:#666">76363.0</span> <span style="color:#666">==</span> sum_of_column(<span style="color:#ba2121">'Statistikk_Tilsyn_ar.csv'</span>, <span style="color:#666">1</span>))
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span>(<span style="color:#666">46007.0</span> <span style="color:#666">==</span> sum_of_column(<span style="color:#ba2121">'Statistikk_Tilsyn_ar.csv'</span>, <span style="color:#666">2</span>))
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span>(<span style="color:#666">5024518.0</span> <span style="color:#666">==</span> sum_of_column(<span style="color:#ba2121">'airport-codes.csv'</span>, <span style="color:#666">3</span>))
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'OK'</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    test_sum_of_column()
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div><div class="level-container E"><div class="level-top"><span>Nivå E</span></div><h5 id="lønnsberegning">Lønnsberegning</h5><p><em>RandomFirma AS</em> trenger et program for å beregne hvor mye de skal betale sine timeansatte. Arbeidsmiljøloven krever at ansatte får lønn for 1,5 time for alle timer over 40 som de jobber i løpet av en enkelt uke. For eksempel, hvis en ansatt jobber 45 timer, får de 5 timer overtid, til 1,5 ganger grunnlønnen. Regjeringen har innført minstelønn i bransjen dette firmaet operer i, og minstlønnen er 200 kr per time. RandomFirma AS krever også at en ansatt ikke jobber mer enn 60 timer i en uke.</p><p>Her er regler oppsummert:</p><ul><li>En ansatt får betalt (arbeidstimer) × (grunnlønn), for hver time inntil 40 timer.</li><li>For hver time over 40 får de overtid = (grunnlønn) × 1,5.</li><li>Grunnlønnen må ikke være lavere enn minstelønnen (200 i timen).</li><li>Antall timer kan ikke være større enn 60.</li></ul><p>I filen <strong>salary.py</strong> skriv en funksjon <code>weekly_pay(hourly_rate, hours)</code> som tar grunnlønn og antall timer en anstatt har jobbet som parametere, og returnerer enten totallønnen som en tallverdi, eller streng med en feilmelding. Feilmeldingene er <code>'Minstelønnskravet er ikke oppfylt'</code> eller <code>'En ansatt jobber mer enn 60 timer'</code>. Dersom begge reglene brytes, skal det returneres <code>'Minstelønnskravet er ikke oppfylt'</code>.</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">test_weekly_pay</span>():
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'Tester weekly_pay... '</span>, end<span style="color:#666">=</span><span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#666">2_000</span> <span style="color:#666">==</span> weekly_pay(<span style="color:#666">200</span>, <span style="color:#666">10</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#666">40_000</span> <span style="color:#666">==</span> weekly_pay(<span style="color:#666">1000</span>, <span style="color:#666">40</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#666">20_000</span> <span style="color:#666">==</span> weekly_pay(<span style="color:#666">500</span>, <span style="color:#666">40</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#666">41_500</span> <span style="color:#666">==</span> weekly_pay(<span style="color:#666">1000</span>, <span style="color:#666">41</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#666">70_000</span> <span style="color:#666">==</span> weekly_pay(<span style="color:#666">1000</span>, <span style="color:#666">60</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#ba2121">'En ansatt jobber mer enn 60 timer'</span> <span style="color:#666">==</span> weekly_pay(<span style="color:#666">1000</span>, <span style="color:#666">61</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#ba2121">'Minstelønnskravet er ikke oppfylt'</span> <span style="color:#666">==</span> weekly_pay(<span style="color:#666">199</span>, <span style="color:#666">40</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#ba2121">'Minstelønnskravet er ikke oppfylt'</span> <span style="color:#666">==</span> weekly_pay(<span style="color:#666">100</span>, <span style="color:#666">100</span>)
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'OK'</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    test_weekly_pay()
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div><div class="level-container D"><div class="level-top"><span>Nivå D</span></div><h5 id="raskeste-løper">Raskeste løper</h5><p>En gruppe venner bestemmer seg for å løpe Bergen City Marathon. Eksempel på fil med navn og tider (i minutter) kan lastes ned her: <a href="https://inf100.ii.uib.no/lab/8/data/marathon.txt" download="">marathon.txt</a>. I filen <em>fastest_runner.py</em> skriv en funksjon <code>fastest_runner(path)</code> som returnerer navnet på den raskeste løperen og antall minutter vedkommende har brukt som en streng. Parameteren <code>path</code> er en filsti til en fil som inneholder navn og tider for alle løperne.</p><p>Du kan anta at hver linje i filen begynner med et fullt navn, etterfulgt av et mellomrom og deretter et heltall som representerer tiden i minutter. Du kan ikke gjøre noen antagelser om hvor mange løpere som er nedtegnet i filen, eller hvor mange etternavn og mellomnavn de har.</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">test_fastest_runner</span>():
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'Tester fastest_runner... '</span>, end<span style="color:#666">=</span><span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#ba2121">'Tien Pengyen Fei 199'</span> <span style="color:#666">==</span> fastest_runner(<span style="color:#ba2121">'marathon.txt'</span>)
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'OK'</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    test_fastest_runner()
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div><div class="level-container D"><div class="level-top"><span>Nivå D</span></div><h5 id="prikkprodukt">Prikkprodukt</h5><p>I filen <em>dot_product.py</em> skriv funksjonen <code>dot_product(a, b)</code> som regner ut <a href="https://en.wikipedia.org/wiki/Dot_product">prikkprodukuktet</a> for to like lange lister med tall <code>a</code> og <code>b</code>. Prikkproduktet er definert som summen av produktene av verdiene som har lik posisjon i de to listene; altså (a[0] * b[0] + a[1] * b[1] + …)</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">test_dot_product</span>():
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'Tester dot_product... '</span>, end<span style="color:#666">=</span><span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#666">36</span> <span style="color:#666">==</span> dot_product([<span style="color:#666">1</span>, <span style="color:#666">2</span>, <span style="color:#666">3</span>, <span style="color:#666">4</span>], [<span style="color:#666">4</span>, <span style="color:#666">5</span>, <span style="color:#666">6</span>, <span style="color:#666">1</span>])
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#666">12</span> <span style="color:#666">==</span> dot_product([<span style="color:#666">0</span>, <span style="color:#666">6</span>, <span style="color:#666">1</span>], [<span style="color:#666">400</span>, <span style="color:#666">1</span>, <span style="color:#666">6</span>])
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> <span style="color:#666">651</span> <span style="color:#666">==</span> dot_product([<span style="color:#666">43</span>, <span style="color:#666">6</span>], [<span style="color:#666">15</span>, <span style="color:#666">1</span>])
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'OK'</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    test_dot_product()
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div><div class="level-container C"><div class="level-top"><span>Nivå C</span></div><h5 id="endre-farge-på-prikk-med-piltaster">Endre farge på prikk med piltaster</h5><p>I denne oppgaven skal vi bruke <code>uib_inf100_graphics.event_app</code> for å lage et program hvor brukeren kan forandre fargen på en prikk ved å trykke på piltastene. Denne oppgaven rettes manuelt (det er ingen automatiske tester på CodeGrade).</p><p>Les deg gjerne opp på <a href="https://inf100.ii.uib.no/notat/grafikk/#farger">farger</a> i kursnotatene om grafikk før du setter i gang.</p><p>En <em>farge</em> er i RGB-systemet representert av tre tall som beskriver lysintensiteten til rødt, grønt og blått lys. Hvert tall er mellom 0 og 255. I programmet vi skal lage i denne oppgaven, skal du tegne en prikk midt på skjermen. Brukeren skal kunne trykke på tastaturet for å endre fargen på prikken</p><ul><li>trykker brukeren på pil opp, økes mengden rød,</li><li>trykker brukeren på pil ned reduseres mengden rød,</li><li>trykker brukeren på pil høyre økes mengden grønn,</li><li>trykker brukeren på pil venstre reduserers mengden grønn,</li><li>trykker brukeren på <code>a</code> økes mengden blå,</li><li>trykker brukeren på <code>z</code> reduseres mengden blå.</li></ul><p>Ingen farge-verdier skal kunne være mindre enn 0 eller høyere enn 255.</p><p>Det ferdige programmet skal skrives i filen <em>colorful_dot.py</em> og skal se omtrent slik ut:</p><table><thead><tr><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center"><video muted="" controls="" height="400"><source src="./img/color-dot-app.mov" type="video/mp4">Video ikke støttet i din nettleser.</video></td></tr></tbody></table><button class="btn btn-outline-primary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#hintseksjon8094fdbfb563a5cd" aria-expanded="false" aria-controls="hintseksjon8094fdbfb563a5cd">
<i class="bi bi-lightbulb"></i> Konvertere fra rgb-verdier til hex-streng</button><p></p><div class="collapse" id="hintseksjon8094fdbfb563a5cd"><div class="card card-body"><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">rgb_to_hex</span>(r, g, b):
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">return</span> <span style="color:#ba2121">f</span><span style="color:#ba2121">'#</span><span style="color:#b68;font-weight:700">{</span>r<span style="color:#b68;font-weight:700">:</span><span style="color:#ba2121">02x</span><span style="color:#b68;font-weight:700">}{</span>g<span style="color:#b68;font-weight:700">:</span><span style="color:#ba2121">02x</span><span style="color:#b68;font-weight:700">}{</span>b<span style="color:#b68;font-weight:700">:</span><span style="color:#ba2121">02x</span><span style="color:#b68;font-weight:700">}</span><span style="color:#ba2121">'</span>
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:#408080;font-style:italic"># Example usage</span>
</span></span><span style="display:flex"><span>hex_string <span style="color:#666">=</span> rgb_to_hex(<span style="color:#666">255</span>, <span style="color:#666">0</span>, <span style="color:#666">128</span>)
</span></span><span style="display:flex"><span><span style="color:green">print</span>(hex_string)  <span style="color:#408080;font-style:italic"># Output: #ff0080</span>
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div></div><p></p><button class="btn btn-outline-primary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#hintseksjon11fb457a60af0b90" aria-expanded="false" aria-controls="hintseksjon11fb457a60af0b90">
<i class="bi bi-lightbulb"></i> Hint</button><p></p><div class="collapse" id="hintseksjon11fb457a60af0b90"><div class="card card-body"><ul><li>La modellen (app) består av fire variabler: r, g, b (tallverdier) og message (en streng). Initialiser dem i app_started.</li><li>La redraw all tegne teksten og en runding midt på skjermen. La fargen være bestemt av r, g og b fra app.</li><li>La key_pressed håndtere tastetrykk som beskrevet i oppgaveteksten. I videoen over endres verdien med 10 for hvert tastetrykk.</li></ul></div></div><p></p><p>Bonus:</p><ul><li>Ha ulike modus som bestemmer hvor store steg du tar hver gang. Endre modus ved å trykke på space.</li><li>Ha ulike prikker, der du kan klikke på hvilken prikk du nå skal endre fargen til. Vis hvilken prikk som er valgt f. eks. ved å la den ha outline.</li></ul></div><div class="level-container B"><div class="level-top"><span>Nivå B</span></div><h5 id="akvakulturregisteret">Akvakulturregisteret</h5><p>I denne oppgaven skal vi bruke datafilen <a href="https://inf100.ii.uib.no/lab/8/data/Akvakulturregisteret.csv" download="">Akvakulturregisteret.csv</a>.</p><blockquote><p>PS: akvakulturregisteret er dessverre ikke lagret i utf-8. Prøv deg frem til du finner riktig encoding (se notater om <a href="https://inf100.ii.uib.no/notat/unicode/#tekstkoding">tekstkoding</a>).</p></blockquote><p><strong>Del A (1 poeng)</strong></p><p>I filen <strong>aquaculture_a.py</strong> skriv en funksjon <code>count_facilities_by_species(path)</code> som tar som input en filsti til akvakulturregisteret, og som så skriver ut til terminalen en unicode-alfabetisk liste over antall oppdrettsanlegg for hver art. Med «unicode-alfabetisk» menes den rekkefølgen man får dersom man sorterer en liste med artsnavn med <code>sorted</code> -funksjonen innebygget i Python. Du kan ta utgangspunkt i følgende kode:</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">count_facilities_by_species</span>(path):
</span></span><span style="display:flex"><span>    <span style="color:#666">...</span> <span style="color:#408080;font-style:italic"># din kode her</span>
</span></span><span style="display:flex"><span>    
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    count_facilities_by_species(<span style="color:#ba2121">'Akvakulturregisteret.csv'</span>)
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div><p>Eksempel på utskrift når programmet kjøres:</p><div class="highlight"><pre tabindex="0" style="-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text"><span style="display:flex"><span>Abbor: 8
</span></span><span style="display:flex"><span>Acartia tonsa **(oppdrett): 4
</span></span><span style="display:flex"><span>Akkar: 1
</span></span><span style="display:flex"><span>Amerikansk hummer: 2
</span></span><span style="display:flex"><span>Arctic sea ice amphipod *: 1
</span></span><span style="display:flex"><span>Arktisk knurrulke: 1
</span></span><span style="display:flex"><span>Berggylt: 58
</span></span><span style="display:flex"><span>...
</span></span></code></pre></div><button class="btn btn-outline-primary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#hintseksjon678453111c214a29" aria-expanded="false" aria-controls="hintseksjon678453111c214a29">
<i class="bi bi-lightbulb"></i> Hint</button><p></p><div class="collapse" id="hintseksjon678453111c214a29"><div class="card card-body"><ul><li>Les innholdet i filen til en egnet datastruktur ved å benytte <a href="https://inf100.ii.uib.no/notat/standardbiblioteket/#csv">csv</a> -biblioteket.</li><li>Bruk et oppslagsverk (dict) for å telle hver art; bruk en løkke over hver rad i filen.</li><li>Første gangen du ser en art, opprett en ny nøkkel med artsnavnet i oppslagsverket og gi den verdien 1</li><li>Dersom nøkkelen derimot var i oppslagsverket fra før, øk verdien dens med 1</li><li>For å finne artene i ‘alfabetisk’ rekkefølge, bruk <code>sorted</code> -funksjonen og gi listen med nøklene fra oppslagsverket som argument.</li></ul></div></div><p></p><p><strong>Del B (1 poeng, rettes manuelt)</strong></p><p>I filen <em>aquaculture_bc.py</em>, skriv et program som plotter alle oppdrettsanleggene i akvakulturregisteret på et kart. Bruk et <a href="https://inf100.ii.uib.no/notat/eksterne-pakker/#scatterplot">scatterplot</a> fra matplotlib for å plotte punktene. Posisjonene til oppdrettsanleggene er gitt i kolonnene som kalles <code>Ø_GEOWGS84</code> og <code>N_GEOWGS84</code> i csv-filen. Det er fint om punktene tegnes med en viss gjennomsiktighet.</p><p>Når du kjører programmet skal omtrent følgende vises:</p><div class="cimg-container"><img src="./Lab8 _ INF100 v24_files/aquaculture_b.png" alt="Eksempel på program som besvarer del B" class="cimg"></div><p><strong>Del C (1 poeng, rettes manuelt)</strong></p><p>I filen <em>aquaculture_bc.py</em>, endre programmet slik at punktene får ulik farge avhengig av om det er et oppdrettsanlegg i sjø eller på land.</p><p>Når du kjører programmet skal omtrent følgende vises:</p><div class="cimg-container"><img src="./Lab8 _ INF100 v24_files/aquaculture_c.png" alt="Eksempel på program som besvarer del C" class="cimg"></div></div><div class="level-container B"><div class="level-top"><span>Nivå B</span></div><h5 id="lengste-varmeperiode-dummydata">Lengste varmeperiode (dummydata)</h5><p>I denne oppgaven skal du skrive en funksjon som finner den lengste sammenhengende perioden med temperaturer over ett gitt antall varmegrader.</p><p>I filen <em>longest_hot_period_dummy.py</em>, skriv en funksjon <code>longest_hot_period(temperatures, threshold)</code> som tar inn en liste <code>temperatures</code> med temperaturer og et flyttall <code>threshold</code> som representerer hvor mange grader som definerer en varm dag. Funksjonen skal returnere indeksene som definerer den lengste sammenhengende perioden med temperaturer med <code>threshold</code> eller flere varmegrader. Hvis det er flere perioder som er like lange, skal den returnere den tidligste perioden.</p><p>Hvis det ikke er noen perioder med temperaturer over <code>threshold</code>, skal funksjonen returnere <code>(-1, -1)</code>. Se også eksemplene i testene du kan lime inn nederst i filen for å se hvordan funksjonen skal fungere.</p><button class="btn btn-outline-primary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#hintseksjon34685f53b83863f9" aria-expanded="false" aria-controls="hintseksjon34685f53b83863f9">
<i class="bi bi-lightbulb"></i> Tester</button><p></p><div class="collapse" id="hintseksjon34685f53b83863f9"><div class="card card-body"><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">test_longest_hot_period</span>():
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'Testing longest_hot_period... '</span>, end<span style="color:#666">=</span><span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>    temps <span style="color:#666">=</span> [<span style="color:#666">25</span>, <span style="color:#666">23</span>, <span style="color:#666">19</span>, <span style="color:#666">22</span>, <span style="color:#666">24</span>, <span style="color:#666">25</span>, <span style="color:#666">21</span>, <span style="color:#666">25</span>, <span style="color:#666">26</span>]
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    threshold <span style="color:#666">=</span> <span style="color:#666">22</span>
</span></span><span style="display:flex"><span>    expected_start, expected_end <span style="color:#666">=</span> <span style="color:#666">3</span>, <span style="color:#666">6</span>
</span></span><span style="display:flex"><span>    actual_start, actual_end <span style="color:#666">=</span> longest_hot_period(temps, threshold)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> (expected_start, expected_end) <span style="color:#666">==</span> (actual_start, actual_end)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    threshold <span style="color:#666">=</span> <span style="color:#666">23</span>
</span></span><span style="display:flex"><span>    expected_start, expected_end <span style="color:#666">=</span> <span style="color:#666">0</span>, <span style="color:#666">2</span>
</span></span><span style="display:flex"><span>    actual_start, actual_end <span style="color:#666">=</span> longest_hot_period(temps, threshold)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> (expected_start, expected_end) <span style="color:#666">==</span> (actual_start, actual_end)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    threshold <span style="color:#666">=</span> <span style="color:#666">15</span>
</span></span><span style="display:flex"><span>    expected_start, expected_end <span style="color:#666">=</span> <span style="color:#666">0</span>, <span style="color:#666">9</span>
</span></span><span style="display:flex"><span>    actual_start, actual_end <span style="color:#666">=</span> longest_hot_period(temps, threshold)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> (expected_start, expected_end) <span style="color:#666">==</span> (actual_start, actual_end)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    threshold <span style="color:#666">=</span> <span style="color:#666">21</span>
</span></span><span style="display:flex"><span>    expected_start, expected_end <span style="color:#666">=</span> <span style="color:#666">3</span>, <span style="color:#666">9</span>
</span></span><span style="display:flex"><span>    actual_start, actual_end <span style="color:#666">=</span> longest_hot_period(temps, threshold)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> (expected_start, expected_end) <span style="color:#666">==</span> (actual_start, actual_end)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    threshold <span style="color:#666">=</span> <span style="color:#666">25</span>
</span></span><span style="display:flex"><span>    expected_start, expected_end <span style="color:#666">=</span> <span style="color:#666">7</span>, <span style="color:#666">9</span>
</span></span><span style="display:flex"><span>    actual_start, actual_end <span style="color:#666">=</span> longest_hot_period(temps, threshold)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> (expected_start, expected_end) <span style="color:#666">==</span> (actual_start, actual_end)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    threshold <span style="color:#666">=</span> <span style="color:#666">30</span>
</span></span><span style="display:flex"><span>    expected_start, expected_end <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#666">1</span>, <span style="color:#666">-</span><span style="color:#666">1</span>
</span></span><span style="display:flex"><span>    actual_start, actual_end <span style="color:#666">=</span> longest_hot_period(temps, threshold)
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> (expected_start, expected_end) <span style="color:#666">==</span> (actual_start, actual_end)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:green">print</span>(<span style="color:#ba2121">'OK'</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    test_longest_hot_period()
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div></div><p></p></div><div class="level-container A"><div class="level-top"><span>Nivå A</span></div><h5 id="lengste-varmeperiode-ekte-data">Lengste varmeperiode (ekte data)</h5><p>I denne oppgaven skal du skrive en funksjon som finner den lengste sammenhengende perioden der hver dag har temperaturer over ett gitt antall varmegrader. Denne gangen skal vi bruke ekte data hentet fra <a href="https://frost.met.no/">frost.met.no</a>.</p><ul><li>Å hente data fra frost.met.no er gratis, men for å hindre misbruk må du registrere deg. Registrering er en uvanlig kortfattet prosess som du kan gjøre her: <a href="https://frost.met.no/auth/requestCredentials.html">https://frost.met.no/auth/requestCredentials.html</a>. For å gjennomføre denne oppgaven må du ta vare på din <em>client_id</em>; for enkelhets skyld kan du kopiere denne inn i en fil som heter <em>client_id.txt</em>. I kodeeksemplene under antar vi at din client id er det <em>eneste</em> som ligger lagret i denne filen.</li></ul><p>Full dokumentasjon for hva slags data du kan hente fra frost.met.no kan være litt overveldende; vi presenterer derfor noen relevante eksempler vi kan begynne å utforske her.</p><button class="btn btn-outline-primary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#hintseksjon622691329b2e0d0b" aria-expanded="false" aria-controls="hintseksjon622691329b2e0d0b">
<i class="bi bi-code-square"></i> Snittemperaturene i Bergen/Florida en uke i april</button><p></p><div class="collapse" id="hintseksjon622691329b2e0d0b"><div class="card card-body"><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">import</span> <span style="color:#00f;font-weight:700">requests</span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">import</span> <span style="color:#00f;font-weight:700">json</span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">from</span> <span style="color:#00f;font-weight:700">pathlib</span> <span style="color:green;font-weight:700">import</span> Path
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>client_id <span style="color:#666">=</span> Path(<span style="color:#ba2121">'client_id.txt'</span>)<span style="color:#666">.</span>read_text(encoding<span style="color:#666">=</span><span style="color:#ba2121">'utf-8'</span>)<span style="color:#666">.</span>strip()
</span></span><span style="display:flex"><span>api_endpoint <span style="color:#666">=</span> <span style="color:#ba2121">'https://frost.met.no/observations/v0.jsonld'</span>
</span></span><span style="display:flex"><span>source_id <span style="color:#666">=</span> <span style="color:#ba2121">'SN50540'</span> <span style="color:#408080;font-style:italic"># SN50540 er Florida målestasjon i Bergen</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>response <span style="color:#666">=</span> requests<span style="color:#666">.</span>get(
</span></span><span style="display:flex"><span>    api_endpoint,
</span></span><span style="display:flex"><span>    params<span style="color:#666">=</span>{
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'sources'</span>: source_id,
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'referencetime'</span>: <span style="color:#ba2121">'2024-04-01/2024-04-07'</span>,
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'elements'</span>: <span style="color:#ba2121">'mean(air_temperature P1D)'</span>,
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'levels'</span>: <span style="color:#ba2121">'default'</span>,
</span></span><span style="display:flex"><span>        <span style="color:#ba2121">'timeoffsets'</span>: <span style="color:#ba2121">'default'</span>,
</span></span><span style="display:flex"><span>    },
</span></span><span style="display:flex"><span>    headers<span style="color:#666">=</span>{<span style="color:#ba2121">'User-Agent'</span>: <span style="color:#ba2121">'inf100.ii.uib.no student'</span>},
</span></span><span style="display:flex"><span>    auth<span style="color:#666">=</span>(client_id, <span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>json_data <span style="color:#666">=</span> response<span style="color:#666">.</span>json()
</span></span><span style="display:flex"><span><span style="color:green">print</span>(json<span style="color:#666">.</span>dumps(json_data, indent<span style="color:#666">=</span><span style="color:#666">2</span>))
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div><blockquote><p>Tips for å utforske dataene du mottar: sett et breakpoint like etter at <code>json_data</code> har blitt opprettet, og bruk debuggeren for å utforske hva som ligger i denne variabelen.</p></blockquote><ul><li><strong>client_id</strong> er en variabel som peker på en streng, nemlig din client id.</li><li><strong>api_endpoint</strong> er en variabel som peker på en streng, nemlig adressen til frost.met.no hvor vi kan hente data.</li><li><strong>source_id</strong> er en variabel som peker på en streng, i dette tilfellet representerer strengen id-en til Florida målestasjon i Bergen.</li><li><strong>response</strong> er en variabel som peker på responsen vi får fra frost.met.no når vi spør om data.</li></ul><p>Argumentene vi gir ved kallet til <code>requests.get</code> er</p><ul><li><strong>api_endpoint</strong> er stammen for nettadressen hvor vi henter data. Dette utgjør begynnelsen av en URL/nettadresse.</li><li>til <strong>params</strong> gir vi et oppslagsverk med nøkkel-verdi-par som vil utgjøre slutten av url’en. Den komplette URL’en vil til slutt bli <code>https://frost.met.no/observations/v0.jsonld?sources=SN50540&amp;referencetime=2024-04-01/2024-04-07&amp;elements=mean(air_temperature%20P1D)&amp;levels=default&amp;timeoffsets=default</code>. Vi kunne laget denne strengen på andre måter og ikke benyttet params-parameteren i det hele tatt; men det ser mer oversiktelig og fint ut å bruke params og et oppslagsverk enn å bedrive omfattende streng-manipulasjon på egen hånd.<ul><li><strong>sources</strong> er en komma-separert liste over målestasjoner vi ønsker data fra. I vårt tilfelle er det kun én målestasjon.</li><li><strong>referencetime</strong> tidsrommet vi ønsker måledata fra. <code>&lt;fra dato&gt;/&lt;til dato&gt;</code>. Merk at fra-dato er inklusiv mens til-dato er ekslusiv (i tråd med god standard praksis i programmering for øvrig).</li><li><strong>elements</strong> angir hva slags måledata vi ønsker. Strengen <code>mean(air_temperature P1D)</code> innebærer at vi ønsker oss gjennomsnittstemperaturen for tidsperioder på én dag.</li><li><strong>levels</strong> angir hvilket «nivå» målingen er gjort på. For temperaturdata er standardnivået 2 meter over bakken, mens noen målestasjoner har temperaturmålinger også på andre høyder. Ved å angi <code>default</code> her eksluderer vi data fra andre målehøyder enn standardnivået.</li><li><strong>timeoffsets</strong> angir hvilket tidspunkt på døgnet gjennomsnittsmålingen begynner. Default som verdi her betyr at gjennomsnittsmålingen begynner ved midnatt.</li></ul></li></ul><ul><li>til <strong>headers</strong> gir vi et oppslagsverk hvor vi angir en verdi for «User-Agent». Dette feltet benyttes for å beskrive hva slags software som brukes.</li><li>til <strong>auth</strong> gir vi en tuple med (brukernavn, passord). I vårt tilfelle er ikke passord nødvendig, siden frost.met.no ikke krever dette når vi bare ber om å lese informasjon. Derfor oppgir vi en tom streng som passord.</li></ul><p><code>requests</code> har innebygget en metode for å konvertere en respons som kommer i json-format til et oppslagsverk/json-objekt. Dette gjøres ved å kalle <code>response.json()</code>. Vi bruker <code>json.dumps</code> for å skrive ut dette oppslagsverket på en lesbar måte.</p></div></div><p></p><button class="btn btn-outline-primary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#hintseksjone8dc02bda0aa98c9" aria-expanded="false" aria-controls="hintseksjone8dc02bda0aa98c9">
<i class="bi bi-code-square"></i> Oversikt over alle målestasjoner i Bergen</button><p></p><div class="collapse" id="hintseksjone8dc02bda0aa98c9"><div class="card card-body"><p>Et lite program for å finne id’ene til værstasjoner i Bergen. Vi laster først ned en oversikt over alle værstasjoner i Norge, og søker etter dem som har Bergen i navnet.</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">import</span> <span style="color:#00f;font-weight:700">requests</span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">from</span> <span style="color:#00f;font-weight:700">pathlib</span> <span style="color:green;font-weight:700">import</span> Path
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>client_id <span style="color:#666">=</span> Path(<span style="color:#ba2121">'client_id.txt'</span>)<span style="color:#666">.</span>read_text(encoding<span style="color:#666">=</span><span style="color:#ba2121">'utf-8'</span>)<span style="color:#666">.</span>strip()
</span></span><span style="display:flex"><span>api_endpoint <span style="color:#666">=</span> <span style="color:#ba2121">'https://frost.met.no/sources/v0.jsonld'</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>response <span style="color:#666">=</span> requests<span style="color:#666">.</span>get(
</span></span><span style="display:flex"><span>    api_endpoint,
</span></span><span style="display:flex"><span>    headers<span style="color:#666">=</span>{<span style="color:#ba2121">'User-Agent'</span>: <span style="color:#ba2121">'inf100.ii.uib.no student'</span>},
</span></span><span style="display:flex"><span>    auth<span style="color:#666">=</span>(client_id, <span style="color:#ba2121">''</span>)
</span></span><span style="display:flex"><span>)
</span></span><span style="display:flex"><span>json_data <span style="color:#666">=</span> response<span style="color:#666">.</span>json()
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">for</span> item <span style="color:#a2f;font-weight:700">in</span> json_data[<span style="color:#ba2121">'data'</span>]:
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">if</span> <span style="color:#ba2121">'name'</span> <span style="color:#a2f;font-weight:700">not</span> <span style="color:#a2f;font-weight:700">in</span> item:
</span></span><span style="display:flex"><span>        <span style="color:green;font-weight:700">continue</span>
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">if</span> <span style="color:#ba2121">'bergen'</span> <span style="color:#a2f;font-weight:700">in</span> item[<span style="color:#ba2121">'name'</span>]<span style="color:#666">.</span>lower():
</span></span><span style="display:flex"><span>        <span style="color:green">print</span>(item[<span style="color:#ba2121">'id'</span>], item[<span style="color:#ba2121">'name'</span>])
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div></div><p></p><p>I filen <em>longest_hot_period_realdata.py</em> skriv en funksjon <code>longest_hot_period(client_id, source_id, start_date, end_date, threshold)</code> som tar inn en client id, en stasjonsid, en start-dato, en slutt-dato og en temperaturgrense, og som så returnerer den lengste sammenhengende perioden i den angitte perioden med temperaturer over <code>threshold</code>. Hvis det ikke er noen perioder med temperaturer over <code>threshold</code>, skal funksjonen returnere <code>(None, None)</code>. Dersom det er flere periode med samme varighet, skal den <em>siste</em> av dem returneres.</p><p>For å teste funksjonen, kan du legge til denne koden nederst i filen:</p><div class="highlight" copybuttononly="true"><pre tabindex="0" style=";margin-bottom:0.4em;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="display:flex"><span><span style="color:green;font-weight:700">from</span> <span style="color:#00f;font-weight:700">pathlib</span> <span style="color:green;font-weight:700">import</span> Path
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">from</span> <span style="color:#00f;font-weight:700">datetime</span> <span style="color:green;font-weight:700">import</span> datetime
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">longest_hot_period</span>(client_id, source_id, start_date, end_date, threshold):
</span></span><span style="display:flex"><span>    <span style="color:#666">...</span> <span style="color:#408080;font-style:italic"># din kode her</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">def</span> <span style="color:#00f">test_longest_hot_period</span>():
</span></span><span style="display:flex"><span>    client_id <span style="color:#666">=</span> Path(<span style="color:#ba2121">'client_id.txt'</span>)<span style="color:#666">.</span>read_text(encoding<span style="color:#666">=</span><span style="color:#ba2121">'utf-8'</span>)<span style="color:#666">.</span>strip()
</span></span><span style="display:flex"><span>    start_date <span style="color:#666">=</span> datetime(year<span style="color:#666">=</span><span style="color:#666">2000</span>, month<span style="color:#666">=</span><span style="color:#666">1</span>, day<span style="color:#666">=</span><span style="color:#666">1</span>)
</span></span><span style="display:flex"><span>    end_date <span style="color:#666">=</span> datetime(year<span style="color:#666">=</span><span style="color:#666">2024</span>, month<span style="color:#666">=</span><span style="color:#666">1</span>, day<span style="color:#666">=</span><span style="color:#666">1</span>)
</span></span><span style="display:flex"><span>    threshold <span style="color:#666">=</span> <span style="color:#666">20</span>
</span></span><span style="display:flex"><span>    source_id <span style="color:#666">=</span> <span style="color:#ba2121">'SN50540'</span> <span style="color:#408080;font-style:italic"># Florida målestasjon i Bergen</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    actual_start, actual_end <span style="color:#666">=</span> longest_hot_period(
</span></span><span style="display:flex"><span>        client_id, source_id, start_date, end_date, threshold
</span></span><span style="display:flex"><span>    )
</span></span><span style="display:flex"><span>    actual_start <span style="color:#666">=</span> actual_start<span style="color:#666">.</span>replace(tzinfo<span style="color:#666">=</span><span style="color:green;font-weight:700">None</span>) <span style="color:#408080;font-style:italic"># Fjerner tidssone</span>
</span></span><span style="display:flex"><span>    actual_end <span style="color:#666">=</span> actual_end<span style="color:#666">.</span>replace(tzinfo<span style="color:#666">=</span><span style="color:green;font-weight:700">None</span>) <span style="color:#408080;font-style:italic"># Fjerner tidssone</span>
</span></span><span style="display:flex"><span>    expected_start <span style="color:#666">=</span> datetime(year<span style="color:#666">=</span><span style="color:#666">2009</span>, month<span style="color:#666">=</span><span style="color:#666">6</span>, day<span style="color:#666">=</span><span style="color:#666">25</span>)
</span></span><span style="display:flex"><span>    expected_end <span style="color:#666">=</span> datetime(year<span style="color:#666">=</span><span style="color:#666">2009</span>, month<span style="color:#666">=</span><span style="color:#666">7</span>, day<span style="color:#666">=</span><span style="color:#666">5</span>)
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> actual_start <span style="color:#666">==</span> expected_start
</span></span><span style="display:flex"><span>    <span style="color:green;font-weight:700">assert</span> actual_end <span style="color:#666">==</span> expected_end
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:green;font-weight:700">if</span> __name__ <span style="color:#666">==</span> <span style="color:#ba2121">'__main__'</span>:
</span></span><span style="display:flex"><span>    test_longest_hot_period()
</span></span></code></pre>
        <div style="text-align:right;margin-bottom:.8em">
            <button type="button" class="btn btn-outline-primary btn-sm" onclick="onCopyClicked(this)">
                <i class="bi bi-files"></i> Kopier
            </button>
        </div></div></div></main></div><footer id="footer" class="mt-auto text-center"><div class="container"><span class="navbar-brand">Universitetet i Bergen
<a href="https://www.uib.no/"><img src="./Lab8 _ INF100 v24_files/logo-uib.svg" style="max-height:2em;margin:.2em" alt="Universitetet i Bergen"></a></span>
<span><a href="https://inf100.ii.uib.no/om/">Om siden</a>.</span></div></footer><script src="./Lab8 _ INF100 v24_files/feather.min.js.last ned"></script>
<script>feather.replace()</script><script src="./Lab8 _ INF100 v24_files/jquery-3.6.0.min.js.last ned"></script>
<script src="./Lab8 _ INF100 v24_files/bootstrap.bundle.min.js.last ned"></script>
<script id="videotagscript" src="./Lab8 _ INF100 v24_files/uib-videotag.js.last ned"></script>
<script src="./Lab8 _ INF100 v24_files/ace-1.7.1.js.last ned"></script>
<script src="./Lab8 _ INF100 v24_files/brython.js.last ned"></script>
<script src="./Lab8 _ INF100 v24_files/brython_stdlib.js.last ned"></script>
<script id="pyeditscript" src="./Lab8 _ INF100 v24_files/uib-pyedit.js.last ned"></script>
<link rel="stylesheet" href="./Lab8 _ INF100 v24_files/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous"><script defer="" src="./Lab8 _ INF100 v24_files/katex.min.js.last ned" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>
<script defer="" src="./Lab8 _ INF100 v24_files/auto-render.min.js.last ned" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous" onload="renderMathInElement(document.body)"></script></div></body></html>